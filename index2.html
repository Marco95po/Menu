<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portada de Disco Musical</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            flex-direction: column;
        }

        .disco-container {
            position: relative;
            width: 300px;
            height: 300px;
            perspective: 1000px;
            margin-bottom: 30px;
            opacity: 0;
            transform: scale(0.5) translateY(50px);
            animation: appear 1s forwards 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .disco {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
            animation: rotate 5s linear 2s forwards;
        }

        .portada {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            background-size: cover;
            background-position: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            transform: translateZ(20px);
        }

        .titulo {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards 1.5s;
        }

        .artista {
            font-size: 18px;
            margin-bottom: 15px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards 1.7s;
        }

        .año {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards 1.9s;
        }

        .vinilo {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 50%;
            background: radial-gradient(circle, #333 30%, #111 70%);
            transform: rotateY(180deg);
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.8);
            overflow: hidden;
        }

        .portada-vinilo {
            position: absolute;
            width: 70%;
            height: 70%;
            border-radius: 50%;
            background-size: cover;
            background-position: center;
            filter: sepia(50%) brightness(70%) contrast(120%);
            z-index: 1;
            opacity: 0;
            animation: fadeIn 1s forwards 2.5s;
        }

        .centro-vinilo {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #fff;
            border: 2px solid #ccc;
            z-index: 3;
            position: relative;
            opacity: 0;
            animation: fadeIn 1s forwards 2.7s;
        }

        .lineas-vinilo {
            position: absolute;
            width: 90%;
            height: 90%;
            border-radius: 50%;
            border: 2px dashed rgba(255, 255, 255, 0.1);
            z-index: 2;
            opacity: 0;
            animation: fadeIn 1s forwards 2.3s;
        }

        .particulas {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            opacity: 0;
            animation: fadeIn 1s forwards 3s;
        }

        .particula {
            position: absolute;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: float 5s infinite ease-in-out;
        }

        @keyframes appear {
            0% { opacity: 0; transform: scale(0.5) translateY(50px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        @keyframes fadeInUp {
            0% { opacity: 0; transform: translateY(20px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            0% { opacity: 0; }
            100% { opacity: 1; }
        }

        @keyframes rotate {
            0% { transform: rotateY(0deg); }
            100% { transform: rotateY(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); opacity: 1; }
            50% { transform: translateY(-20px) translateX(10px); opacity: 0.5; }
        }

        .info {
            position: absolute;
            bottom: -60px;
            width: 100%;
            text-align: center;
            font-size: 14px;
            opacity: 0.7;
        }

        /* Botón moderno en naranja */
        .modern-btn {
            background: linear-gradient(135deg, #FF8C00, #FF6347);
            color: white;
            border: none;
            padding: 14px 28px;
            font-size: 16px;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 30px;
            font-weight: 600;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(255, 99, 71, 0.4);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s forwards 3.5s;
        }

        .modern-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 99, 71, 0.6);
        }

        .modern-btn:active {
            transform: translateY(1px);
        }

        .modern-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: 0.5s;
        }

        .modern-btn:hover::before {
            left: 100%;
        }

        .modern-btn:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 140, 0, 0.3);
        }

        /* Estilos para el estado de carga */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .loading-screen.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-text {
            font-size: 24px;
            margin-top: 20px;
            color: white;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #FF8C00;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Pantalla de carga -->
    <div class="loading-screen" id="loadingScreen">
        <div class="spinner"></div>
        <div class="loading-text">Cargando...</div>
    </div>

    <!-- Contenido principal (solo visible las primeras 2 veces) -->
    <div id="mainContent">
        <div class="disco-container">
            <div class="disco">
                <div class="portada" style="background-image: url('https://i.postimg.cc/ZnFX572Y/Picsart-25-06-15-09-32-13-140.jpg')">
                    <div class="titulo"></div>
                    <div class="artista"></div>
                    <div class="año"></div>
                </div>
                <div class="vinilo">
                    <div class="portada-vinilo" style="background-image: url('https://i.postimg.cc/ZnFX572Y/Picsart-25-06-15-09-32-13-140.jpg')"></div>
                    <div class="lineas-vinilo"></div>
                    <div class="centro-vinilo"></div>
                </div>
            </div>
        </div>

        <button class="modern-btn" id="musicBtn">
            YA DISPONIBLE EN MUSIC LIVE
        </button>

        <div class="particulas" id="particulas"></div>
    </div>

    <script>
        // Configuración
        const MAX_DISPLAYS = 2; // Máximo de veces que se muestra la animación antes de redirigir
        const REDIRECT_DELAY = 500; // Medio segundo después de mostrar "Cargando"
        const CURRENT_COVER_KEY = 'currentCover'; // Clave para almacenar la portada actual
        const DISPLAY_COUNT_KEY = 'displayCount'; // Clave para almacenar el contador
        
        // Obtener la URL de la portada actual
        const currentCover = 'https://i.postimg.cc/ZnFX572Y/Picsart-25-06-15-09-32-13-140.jpg';
        
        // Verificar si la portada ha cambiado
        const storedCover = localStorage.getItem(CURRENT_COVER_KEY);
        let displayCount = parseInt(localStorage.getItem(DISPLAY_COUNT_KEY)) || 0;
        
        if (storedCover !== currentCover) {
            // Si la portada es diferente, reiniciar el contador
            displayCount = 0;
            localStorage.setItem(CURRENT_COVER_KEY, currentCover);
        }
        
        // Incrementar el contador y guardarlo
        displayCount++;
        localStorage.setItem(DISPLAY_COUNT_KEY, displayCount.toString());
        
        // Elementos del DOM
        const loadingScreen = document.getElementById('loadingScreen');
        const mainContent = document.getElementById('mainContent');
        const musicBtn = document.getElementById('musicBtn');
        
        // Si ya se mostró más de 2 veces, mostrar solo la pantalla de carga
        if (displayCount > MAX_DISPLAYS) {
            mainContent.style.display = 'none';
            loadingScreen.classList.add('active');
            
            // Redirigir después de un breve retraso
            setTimeout(() => {
                window.location.href = 'Music.html';
            }, REDIRECT_DELAY);
        } else {
            // Mostrar la animación normal
            // Crear partículas dinámicas
            const particulas = document.getElementById('particulas');
            const colores = ['#ff4e50', '#f9d423', '#e74c3c', '#3498db', '#2ecc71'];
            
            for (let i = 0; i < 20; i++) {
                const particula = document.createElement('div');
                particula.classList.add('particula');
                
                // Tamaño aleatorio entre 2px y 6px
                const size = Math.random() * 4 + 2;
                particula.style.width = `${size}px`;
                particula.style.height = `${size}px`;
                
                // Posición aleatoria
                particula.style.left = `${Math.random() * 100}%`;
                particula.style.top = `${Math.random() * 100}%`;
                
                // Color aleatorio
                particula.style.background = colores[Math.floor(Math.random() * colores.length)];
                
                // Animación con delay aleatorio
                particula.style.animationDelay = `${Math.random() * 5}s`;
                
                particulas.appendChild(particula);
            }
            
            // Desactivar la interacción de pausa/play al hacer clic
            document.querySelector('.disco').style.pointerEvents = 'none';
            
            // Configurar el botón
            musicBtn.addEventListener('click', function() {
                // Mostrar pantalla de carga
                mainContent.style.display = 'none';
                loadingScreen.classList.add('active');
                
                // Redirigir después de un breve retraso
                setTimeout(() => {
                    window.location.href = 'Music.html';
                }, REDIRECT_DELAY);
            });
        }
    </script>
</body>
</html>
